<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Tests for glTF ArrayBuffer En-/Decoder</title>
  <script src="./gltfArraybufferCoder.js"></script>
  <script type="text/javascript">

  /* @TODO https://jsfiddle.net/s1bzc0zc/6/ */
  /* @TODO https://jsfiddle.net/6cevt681/1/ */

    let vtx = [
      0.0857, 0.0759,
      0.0367, 0.9726,
      0.9678, 0.0318,
      0.9754, 0.9327
    ];

    let idx = [
      0, 2,
      2, 4,
      4, 0,
      0, 1,
      1, 4
    ];

    function test() {
      encodeIndicesTest();
      encodeVerticesTest();
      encodeEverythingTest();
    }

    function encodeIndicesTest() {
      let buf = gltfArraybufferCoder.encodeIndices(idx);
      window.console.log(gltfArraybufferCoder.encodeBase64DataUri(buf));
    }

    function encodeVerticesTest() {
      let buf = gltfArraybufferCoder.encodeVertices(vtx);
      window.console.log(gltfArraybufferCoder.encodeBase64DataUri(buf));
    }

    function encodeEverythingTest() {
      let i_buf = gltfArraybufferCoder.encodeIndices(idx);
      let v_buf = gltfArraybufferCoder.encodeVertices(vtx);

      let buf = gltfArraybufferCoder.encodeIndicesAndVertices(idx, vtx);
      window.console.log(gltfArraybufferCoder.encodeBase64DataUri(buf));

      let con = gltfArraybufferCoder.concatenateBuffers(i_buf, v_buf);
      window.console.log(gltfArraybufferCoder.encodeBase64DataUri(con));
    }
  </script>
</head>
<body onload="test()">
  <div>Running tests for glTF ArrayBuffer en- and decoder, open your console.</div>
</body>
</html>
